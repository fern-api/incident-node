// This file was auto-generated by Fern from our API Definition.

import { IncidentIOClient } from "../../src/Client";
import { mockServerPool } from "../mock-server/MockServerPool";

describe("IncidentsV2Client", () => {
    test("list", async () => {
        const server = mockServerPool.createServer();
        const client = new IncidentIOClient({ maxRetries: 0, environment: server.baseUrl });

        const rawResponseBody = {
            incidents: [
                {
                    call_url: "https://zoom.us/foo",
                    created_at: "2021-08-17T13:28:57Z",
                    creator: {
                        alert: {
                            id: "01GW2G3V0S59R238FAHPDS1R66",
                            title: "*errors.withMessage: PG::Error failed to connect",
                        },
                        api_key: { id: "01FCNDV6P870EA6S7TK1DSYDG0", name: "My test API key" },
                        user: {
                            email: "lisa@incident.io",
                            id: "01FCNDV6P870EA6S7TK1DSYDG0",
                            name: "Lisa Karlin Curtis",
                            role: "viewer",
                            slack_user_id: "U02AYNF2XJM",
                        },
                        workflow: { id: "01FCNDV6P870EA6S7TK1DSYDG0", name: "My little workflow" },
                    },
                    custom_field_entries: [
                        {
                            custom_field: {
                                description: "Which team is impacted by this issue",
                                field_type: "single_select",
                                id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                name: "Affected Team",
                                options: [
                                    {
                                        custom_field_id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                        id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                        sort_key: 10,
                                        value: "Product",
                                    },
                                ],
                            },
                            values: [
                                {
                                    value_catalog_entry: {
                                        aliases: ["lawrence@incident.io", "lawrence"],
                                        external_id: "761722cd-d1d7-477b-ac7e-90f9e079dc33",
                                        id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                        name: "Primary On-call",
                                    },
                                    value_link: "https://google.com/",
                                    value_numeric: "123.456",
                                    value_option: {
                                        custom_field_id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                        id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                        sort_key: 10,
                                        value: "Product",
                                    },
                                    value_text: "This is my text field, I hope you like it",
                                },
                            ],
                        },
                    ],
                    duration_metrics: [
                        { duration_metric: { id: "01FCNDV6P870EA6S7TK1DSYD5H", name: "Lasted" }, value_seconds: 10800 },
                    ],
                    external_issue_reference: {
                        issue_name: "INC-123",
                        issue_permalink: "https://linear.app/incident-io/issue/INC-1609/find-copywriter-to-write-up",
                        provider: "asana",
                    },
                    has_debrief: false,
                    id: "01FDAG4SAP5TYPT98WGR2N7W91",
                    incident_role_assignments: [
                        {
                            assignee: {
                                email: "lisa@incident.io",
                                id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                name: "Lisa Karlin Curtis",
                                role: "viewer",
                                slack_user_id: "U02AYNF2XJM",
                            },
                            role: {
                                created_at: "2021-08-17T13:28:57Z",
                                description: "The person currently coordinating the incident",
                                id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                instructions:
                                    "Take point on the incident; Make sure people are clear on responsibilities",
                                name: "Incident Lead",
                                required: false,
                                role_type: "lead",
                                shortform: "lead",
                                updated_at: "2021-08-17T13:28:57Z",
                            },
                        },
                    ],
                    incident_status: {
                        category: "triage",
                        created_at: "2021-08-17T13:28:57Z",
                        description:
                            "Impact has been **fully mitigated**, and we're ready to learn from this incident.",
                        id: "01FCNDV6P870EA6S7TK1DSYD5H",
                        name: "Closed",
                        rank: 4,
                        updated_at: "2021-08-17T13:28:57Z",
                    },
                    incident_timestamp_values: [
                        {
                            incident_timestamp: { id: "01FCNDV6P870EA6S7TK1DSYD5H", name: "Impact started", rank: 1 },
                            value: { value: "2021-08-17T13:28:57Z" },
                        },
                    ],
                    incident_type: {
                        create_in_triage: "always",
                        created_at: "2021-08-17T13:28:57Z",
                        description: "Customer facing production outages",
                        id: "01FCNDV6P870EA6S7TK1DSYDG0",
                        is_default: false,
                        name: "Production Outage",
                        private_incidents_only: false,
                        updated_at: "2021-08-17T13:28:57Z",
                    },
                    mode: "standard",
                    name: "Our database is sad",
                    permalink: "https://app.incident.io/incidents/123",
                    postmortem_document_url: "https://docs.google.com/my_doc_id",
                    reference: "INC-123",
                    severity: {
                        created_at: "2021-08-17T13:28:57Z",
                        description: "Issues with **low impact**.",
                        id: "01FCNDV6P870EA6S7TK1DSYDG0",
                        name: "Minor",
                        rank: 1,
                        updated_at: "2021-08-17T13:28:57Z",
                    },
                    slack_channel_id: "C02AW36C1M5",
                    slack_channel_name: "inc-165-green-parrot",
                    slack_team_id: "T02A1FSLE8J",
                    summary: "Our database is really really sad, and we don't know why yet.",
                    updated_at: "2021-08-17T13:28:57Z",
                    visibility: "public",
                    workload_minutes_late: 40.7,
                    workload_minutes_sleeping: 0,
                    workload_minutes_total: 60.7,
                    workload_minutes_working: 20,
                },
            ],
            pagination_meta: { after: "01FCNDV6P870EA6S7TK1DSYDG0", page_size: 25, total_record_count: 238 },
        };
        server.mockEndpoint().get("/v2/incidents").respondWith().statusCode(200).jsonBody(rawResponseBody).build();

        const response = await client.incidentsV2.list({
            page_size: 25,
            after: "01FDAG4SAP5TYPT98WGR2N7W91",
        });
        expect(response).toEqual({
            incidents: [
                {
                    call_url: "https://zoom.us/foo",
                    created_at: "2021-08-17T13:28:57Z",
                    creator: {
                        alert: {
                            id: "01GW2G3V0S59R238FAHPDS1R66",
                            title: "*errors.withMessage: PG::Error failed to connect",
                        },
                        api_key: {
                            id: "01FCNDV6P870EA6S7TK1DSYDG0",
                            name: "My test API key",
                        },
                        user: {
                            email: "lisa@incident.io",
                            id: "01FCNDV6P870EA6S7TK1DSYDG0",
                            name: "Lisa Karlin Curtis",
                            role: "viewer",
                            slack_user_id: "U02AYNF2XJM",
                        },
                        workflow: {
                            id: "01FCNDV6P870EA6S7TK1DSYDG0",
                            name: "My little workflow",
                        },
                    },
                    custom_field_entries: [
                        {
                            custom_field: {
                                description: "Which team is impacted by this issue",
                                field_type: "single_select",
                                id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                name: "Affected Team",
                                options: [
                                    {
                                        custom_field_id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                        id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                        sort_key: 10,
                                        value: "Product",
                                    },
                                ],
                            },
                            values: [
                                {
                                    value_catalog_entry: {
                                        aliases: ["lawrence@incident.io", "lawrence"],
                                        external_id: "761722cd-d1d7-477b-ac7e-90f9e079dc33",
                                        id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                        name: "Primary On-call",
                                    },
                                    value_link: "https://google.com/",
                                    value_numeric: "123.456",
                                    value_option: {
                                        custom_field_id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                        id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                        sort_key: 10,
                                        value: "Product",
                                    },
                                    value_text: "This is my text field, I hope you like it",
                                },
                            ],
                        },
                    ],
                    duration_metrics: [
                        {
                            duration_metric: {
                                id: "01FCNDV6P870EA6S7TK1DSYD5H",
                                name: "Lasted",
                            },
                            value_seconds: 10800,
                        },
                    ],
                    external_issue_reference: {
                        issue_name: "INC-123",
                        issue_permalink: "https://linear.app/incident-io/issue/INC-1609/find-copywriter-to-write-up",
                        provider: "asana",
                    },
                    has_debrief: false,
                    id: "01FDAG4SAP5TYPT98WGR2N7W91",
                    incident_role_assignments: [
                        {
                            assignee: {
                                email: "lisa@incident.io",
                                id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                name: "Lisa Karlin Curtis",
                                role: "viewer",
                                slack_user_id: "U02AYNF2XJM",
                            },
                            role: {
                                created_at: "2021-08-17T13:28:57Z",
                                description: "The person currently coordinating the incident",
                                id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                instructions:
                                    "Take point on the incident; Make sure people are clear on responsibilities",
                                name: "Incident Lead",
                                required: false,
                                role_type: "lead",
                                shortform: "lead",
                                updated_at: "2021-08-17T13:28:57Z",
                            },
                        },
                    ],
                    incident_status: {
                        category: "triage",
                        created_at: "2021-08-17T13:28:57Z",
                        description:
                            "Impact has been **fully mitigated**, and we're ready to learn from this incident.",
                        id: "01FCNDV6P870EA6S7TK1DSYD5H",
                        name: "Closed",
                        rank: 4,
                        updated_at: "2021-08-17T13:28:57Z",
                    },
                    incident_timestamp_values: [
                        {
                            incident_timestamp: {
                                id: "01FCNDV6P870EA6S7TK1DSYD5H",
                                name: "Impact started",
                                rank: 1,
                            },
                            value: {
                                value: "2021-08-17T13:28:57Z",
                            },
                        },
                    ],
                    incident_type: {
                        create_in_triage: "always",
                        created_at: "2021-08-17T13:28:57Z",
                        description: "Customer facing production outages",
                        id: "01FCNDV6P870EA6S7TK1DSYDG0",
                        is_default: false,
                        name: "Production Outage",
                        private_incidents_only: false,
                        updated_at: "2021-08-17T13:28:57Z",
                    },
                    mode: "standard",
                    name: "Our database is sad",
                    permalink: "https://app.incident.io/incidents/123",
                    postmortem_document_url: "https://docs.google.com/my_doc_id",
                    reference: "INC-123",
                    severity: {
                        created_at: "2021-08-17T13:28:57Z",
                        description: "Issues with **low impact**.",
                        id: "01FCNDV6P870EA6S7TK1DSYDG0",
                        name: "Minor",
                        rank: 1,
                        updated_at: "2021-08-17T13:28:57Z",
                    },
                    slack_channel_id: "C02AW36C1M5",
                    slack_channel_name: "inc-165-green-parrot",
                    slack_team_id: "T02A1FSLE8J",
                    summary: "Our database is really really sad, and we don't know why yet.",
                    updated_at: "2021-08-17T13:28:57Z",
                    visibility: "public",
                    workload_minutes_late: 40.7,
                    workload_minutes_sleeping: 0,
                    workload_minutes_total: 60.7,
                    workload_minutes_working: 20,
                },
            ],
            pagination_meta: {
                after: "01FCNDV6P870EA6S7TK1DSYDG0",
                page_size: 25,
                total_record_count: 238,
            },
        });
    });

    test("create", async () => {
        const server = mockServerPool.createServer();
        const client = new IncidentIOClient({ maxRetries: 0, environment: server.baseUrl });
        const rawRequestBody = {
            custom_field_entries: [
                {
                    custom_field_id: "01FCNDV6P870EA6S7TK1DSYDG0",
                    values: [
                        {
                            id: "01FCNDV6P870EA6S7TK1DSYDG0",
                            value_catalog_entry_id: "01FCNDV6P870EA6S7TK1DSYDG0",
                            value_link: "https://google.com/",
                            value_numeric: "123.456",
                            value_option_id: "01FCNDV6P870EA6S7TK1DSYDG0",
                            value_text: "This is my text field, I hope you like it",
                            value_timestamp: "",
                        },
                    ],
                },
            ],
            idempotency_key: "alert-uuid",
            incident_role_assignments: [
                {
                    assignee: { email: "bob@example.com", id: "01G0J1EXE7AXZ2C93K61WBPYEH", slack_user_id: "USER123" },
                    incident_role_id: "01FH5TZRWMNAFB0DZ23FD1TV96",
                },
            ],
            incident_status_id: "01G0J1EXE7AXZ2C93K61WBPYEH",
            incident_timestamp_values: [
                { incident_timestamp_id: "01FCNDV6P870EA6S7TK1DSYD5H", value: "2021-08-17T13:28:57Z" },
            ],
            incident_type_id: "01FH5TZRWMNAFB0DZ23FD1TV96",
            mode: "standard",
            name: "Our database is sad",
            retrospective_incident_options: {
                external_id: 123,
                postmortem_document_url: "https://docs.google.com/my_doc_id",
                slack_channel_id: "abc123",
            },
            severity_id: "01FH5TZRWMNAFB0DZ23FD1TV96",
            slack_channel_name_override: "inc-123-database-down",
            slack_team_id: "T02A1FSLE8J",
            summary: "Our database is really really sad, and we don't know why yet.",
            visibility: "public",
        };
        const rawResponseBody = {
            incident: {
                call_url: "https://zoom.us/foo",
                created_at: "2021-08-17T13:28:57Z",
                creator: {
                    alert: {
                        id: "01GW2G3V0S59R238FAHPDS1R66",
                        title: "*errors.withMessage: PG::Error failed to connect",
                    },
                    api_key: { id: "01FCNDV6P870EA6S7TK1DSYDG0", name: "My test API key" },
                    user: {
                        email: "lisa@incident.io",
                        id: "01FCNDV6P870EA6S7TK1DSYDG0",
                        name: "Lisa Karlin Curtis",
                        role: "viewer",
                        slack_user_id: "U02AYNF2XJM",
                    },
                    workflow: { id: "01FCNDV6P870EA6S7TK1DSYDG0", name: "My little workflow" },
                },
                custom_field_entries: [
                    {
                        custom_field: {
                            description: "Which team is impacted by this issue",
                            field_type: "single_select",
                            id: "01FCNDV6P870EA6S7TK1DSYDG0",
                            name: "Affected Team",
                            options: [
                                {
                                    custom_field_id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                    id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                    sort_key: 10,
                                    value: "Product",
                                },
                            ],
                        },
                        values: [
                            {
                                value_catalog_entry: {
                                    aliases: ["lawrence@incident.io", "lawrence"],
                                    external_id: "761722cd-d1d7-477b-ac7e-90f9e079dc33",
                                    id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                    name: "Primary On-call",
                                },
                                value_link: "https://google.com/",
                                value_numeric: "123.456",
                                value_option: {
                                    custom_field_id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                    id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                    sort_key: 10,
                                    value: "Product",
                                },
                                value_text: "This is my text field, I hope you like it",
                            },
                        ],
                    },
                ],
                duration_metrics: [
                    { duration_metric: { id: "01FCNDV6P870EA6S7TK1DSYD5H", name: "Lasted" }, value_seconds: 10800 },
                ],
                external_issue_reference: {
                    issue_name: "INC-123",
                    issue_permalink: "https://linear.app/incident-io/issue/INC-1609/find-copywriter-to-write-up",
                    provider: "asana",
                },
                has_debrief: false,
                id: "01FDAG4SAP5TYPT98WGR2N7W91",
                incident_role_assignments: [
                    {
                        assignee: {
                            email: "lisa@incident.io",
                            id: "01FCNDV6P870EA6S7TK1DSYDG0",
                            name: "Lisa Karlin Curtis",
                            role: "viewer",
                            slack_user_id: "U02AYNF2XJM",
                        },
                        role: {
                            created_at: "2021-08-17T13:28:57Z",
                            description: "The person currently coordinating the incident",
                            id: "01FCNDV6P870EA6S7TK1DSYDG0",
                            instructions: "Take point on the incident; Make sure people are clear on responsibilities",
                            name: "Incident Lead",
                            required: false,
                            role_type: "lead",
                            shortform: "lead",
                            updated_at: "2021-08-17T13:28:57Z",
                        },
                    },
                ],
                incident_status: {
                    category: "triage",
                    created_at: "2021-08-17T13:28:57Z",
                    description: "Impact has been **fully mitigated**, and we're ready to learn from this incident.",
                    id: "01FCNDV6P870EA6S7TK1DSYD5H",
                    name: "Closed",
                    rank: 4,
                    updated_at: "2021-08-17T13:28:57Z",
                },
                incident_timestamp_values: [
                    {
                        incident_timestamp: { id: "01FCNDV6P870EA6S7TK1DSYD5H", name: "Impact started", rank: 1 },
                        value: { value: "2021-08-17T13:28:57Z" },
                    },
                ],
                incident_type: {
                    create_in_triage: "always",
                    created_at: "2021-08-17T13:28:57Z",
                    description: "Customer facing production outages",
                    id: "01FCNDV6P870EA6S7TK1DSYDG0",
                    is_default: false,
                    name: "Production Outage",
                    private_incidents_only: false,
                    updated_at: "2021-08-17T13:28:57Z",
                },
                mode: "standard",
                name: "Our database is sad",
                permalink: "https://app.incident.io/incidents/123",
                postmortem_document_url: "https://docs.google.com/my_doc_id",
                reference: "INC-123",
                severity: {
                    created_at: "2021-08-17T13:28:57Z",
                    description: "Issues with **low impact**.",
                    id: "01FCNDV6P870EA6S7TK1DSYDG0",
                    name: "Minor",
                    rank: 1,
                    updated_at: "2021-08-17T13:28:57Z",
                },
                slack_channel_id: "C02AW36C1M5",
                slack_channel_name: "inc-165-green-parrot",
                slack_team_id: "T02A1FSLE8J",
                summary: "Our database is really really sad, and we don't know why yet.",
                updated_at: "2021-08-17T13:28:57Z",
                visibility: "public",
                workload_minutes_late: 40.7,
                workload_minutes_sleeping: 0,
                workload_minutes_total: 60.7,
                workload_minutes_working: 20,
            },
        };
        server
            .mockEndpoint()
            .post("/v2/incidents")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.incidentsV2.create({
            custom_field_entries: [
                {
                    custom_field_id: "01FCNDV6P870EA6S7TK1DSYDG0",
                    values: [
                        {
                            id: "01FCNDV6P870EA6S7TK1DSYDG0",
                            value_catalog_entry_id: "01FCNDV6P870EA6S7TK1DSYDG0",
                            value_link: "https://google.com/",
                            value_numeric: "123.456",
                            value_option_id: "01FCNDV6P870EA6S7TK1DSYDG0",
                            value_text: "This is my text field, I hope you like it",
                            value_timestamp: "",
                        },
                    ],
                },
            ],
            idempotency_key: "alert-uuid",
            incident_role_assignments: [
                {
                    assignee: {
                        email: "bob@example.com",
                        id: "01G0J1EXE7AXZ2C93K61WBPYEH",
                        slack_user_id: "USER123",
                    },
                    incident_role_id: "01FH5TZRWMNAFB0DZ23FD1TV96",
                },
            ],
            incident_status_id: "01G0J1EXE7AXZ2C93K61WBPYEH",
            incident_timestamp_values: [
                {
                    incident_timestamp_id: "01FCNDV6P870EA6S7TK1DSYD5H",
                    value: "2021-08-17T13:28:57Z",
                },
            ],
            incident_type_id: "01FH5TZRWMNAFB0DZ23FD1TV96",
            mode: "standard",
            name: "Our database is sad",
            retrospective_incident_options: {
                external_id: 123,
                postmortem_document_url: "https://docs.google.com/my_doc_id",
                slack_channel_id: "abc123",
            },
            severity_id: "01FH5TZRWMNAFB0DZ23FD1TV96",
            slack_channel_name_override: "inc-123-database-down",
            slack_team_id: "T02A1FSLE8J",
            summary: "Our database is really really sad, and we don't know why yet.",
            visibility: "public",
        });
        expect(response).toEqual({
            incident: {
                call_url: "https://zoom.us/foo",
                created_at: "2021-08-17T13:28:57Z",
                creator: {
                    alert: {
                        id: "01GW2G3V0S59R238FAHPDS1R66",
                        title: "*errors.withMessage: PG::Error failed to connect",
                    },
                    api_key: {
                        id: "01FCNDV6P870EA6S7TK1DSYDG0",
                        name: "My test API key",
                    },
                    user: {
                        email: "lisa@incident.io",
                        id: "01FCNDV6P870EA6S7TK1DSYDG0",
                        name: "Lisa Karlin Curtis",
                        role: "viewer",
                        slack_user_id: "U02AYNF2XJM",
                    },
                    workflow: {
                        id: "01FCNDV6P870EA6S7TK1DSYDG0",
                        name: "My little workflow",
                    },
                },
                custom_field_entries: [
                    {
                        custom_field: {
                            description: "Which team is impacted by this issue",
                            field_type: "single_select",
                            id: "01FCNDV6P870EA6S7TK1DSYDG0",
                            name: "Affected Team",
                            options: [
                                {
                                    custom_field_id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                    id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                    sort_key: 10,
                                    value: "Product",
                                },
                            ],
                        },
                        values: [
                            {
                                value_catalog_entry: {
                                    aliases: ["lawrence@incident.io", "lawrence"],
                                    external_id: "761722cd-d1d7-477b-ac7e-90f9e079dc33",
                                    id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                    name: "Primary On-call",
                                },
                                value_link: "https://google.com/",
                                value_numeric: "123.456",
                                value_option: {
                                    custom_field_id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                    id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                    sort_key: 10,
                                    value: "Product",
                                },
                                value_text: "This is my text field, I hope you like it",
                            },
                        ],
                    },
                ],
                duration_metrics: [
                    {
                        duration_metric: {
                            id: "01FCNDV6P870EA6S7TK1DSYD5H",
                            name: "Lasted",
                        },
                        value_seconds: 10800,
                    },
                ],
                external_issue_reference: {
                    issue_name: "INC-123",
                    issue_permalink: "https://linear.app/incident-io/issue/INC-1609/find-copywriter-to-write-up",
                    provider: "asana",
                },
                has_debrief: false,
                id: "01FDAG4SAP5TYPT98WGR2N7W91",
                incident_role_assignments: [
                    {
                        assignee: {
                            email: "lisa@incident.io",
                            id: "01FCNDV6P870EA6S7TK1DSYDG0",
                            name: "Lisa Karlin Curtis",
                            role: "viewer",
                            slack_user_id: "U02AYNF2XJM",
                        },
                        role: {
                            created_at: "2021-08-17T13:28:57Z",
                            description: "The person currently coordinating the incident",
                            id: "01FCNDV6P870EA6S7TK1DSYDG0",
                            instructions: "Take point on the incident; Make sure people are clear on responsibilities",
                            name: "Incident Lead",
                            required: false,
                            role_type: "lead",
                            shortform: "lead",
                            updated_at: "2021-08-17T13:28:57Z",
                        },
                    },
                ],
                incident_status: {
                    category: "triage",
                    created_at: "2021-08-17T13:28:57Z",
                    description: "Impact has been **fully mitigated**, and we're ready to learn from this incident.",
                    id: "01FCNDV6P870EA6S7TK1DSYD5H",
                    name: "Closed",
                    rank: 4,
                    updated_at: "2021-08-17T13:28:57Z",
                },
                incident_timestamp_values: [
                    {
                        incident_timestamp: {
                            id: "01FCNDV6P870EA6S7TK1DSYD5H",
                            name: "Impact started",
                            rank: 1,
                        },
                        value: {
                            value: "2021-08-17T13:28:57Z",
                        },
                    },
                ],
                incident_type: {
                    create_in_triage: "always",
                    created_at: "2021-08-17T13:28:57Z",
                    description: "Customer facing production outages",
                    id: "01FCNDV6P870EA6S7TK1DSYDG0",
                    is_default: false,
                    name: "Production Outage",
                    private_incidents_only: false,
                    updated_at: "2021-08-17T13:28:57Z",
                },
                mode: "standard",
                name: "Our database is sad",
                permalink: "https://app.incident.io/incidents/123",
                postmortem_document_url: "https://docs.google.com/my_doc_id",
                reference: "INC-123",
                severity: {
                    created_at: "2021-08-17T13:28:57Z",
                    description: "Issues with **low impact**.",
                    id: "01FCNDV6P870EA6S7TK1DSYDG0",
                    name: "Minor",
                    rank: 1,
                    updated_at: "2021-08-17T13:28:57Z",
                },
                slack_channel_id: "C02AW36C1M5",
                slack_channel_name: "inc-165-green-parrot",
                slack_team_id: "T02A1FSLE8J",
                summary: "Our database is really really sad, and we don't know why yet.",
                updated_at: "2021-08-17T13:28:57Z",
                visibility: "public",
                workload_minutes_late: 40.7,
                workload_minutes_sleeping: 0,
                workload_minutes_total: 60.7,
                workload_minutes_working: 20,
            },
        });
    });

    test("show", async () => {
        const server = mockServerPool.createServer();
        const client = new IncidentIOClient({ maxRetries: 0, environment: server.baseUrl });

        const rawResponseBody = {
            incident: {
                call_url: "https://zoom.us/foo",
                created_at: "2021-08-17T13:28:57Z",
                creator: {
                    alert: {
                        id: "01GW2G3V0S59R238FAHPDS1R66",
                        title: "*errors.withMessage: PG::Error failed to connect",
                    },
                    api_key: { id: "01FCNDV6P870EA6S7TK1DSYDG0", name: "My test API key" },
                    user: {
                        email: "lisa@incident.io",
                        id: "01FCNDV6P870EA6S7TK1DSYDG0",
                        name: "Lisa Karlin Curtis",
                        role: "viewer",
                        slack_user_id: "U02AYNF2XJM",
                    },
                    workflow: { id: "01FCNDV6P870EA6S7TK1DSYDG0", name: "My little workflow" },
                },
                custom_field_entries: [
                    {
                        custom_field: {
                            description: "Which team is impacted by this issue",
                            field_type: "single_select",
                            id: "01FCNDV6P870EA6S7TK1DSYDG0",
                            name: "Affected Team",
                            options: [
                                {
                                    custom_field_id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                    id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                    sort_key: 10,
                                    value: "Product",
                                },
                            ],
                        },
                        values: [
                            {
                                value_catalog_entry: {
                                    aliases: ["lawrence@incident.io", "lawrence"],
                                    external_id: "761722cd-d1d7-477b-ac7e-90f9e079dc33",
                                    id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                    name: "Primary On-call",
                                },
                                value_link: "https://google.com/",
                                value_numeric: "123.456",
                                value_option: {
                                    custom_field_id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                    id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                    sort_key: 10,
                                    value: "Product",
                                },
                                value_text: "This is my text field, I hope you like it",
                            },
                        ],
                    },
                ],
                duration_metrics: [
                    { duration_metric: { id: "01FCNDV6P870EA6S7TK1DSYD5H", name: "Lasted" }, value_seconds: 10800 },
                ],
                external_issue_reference: {
                    issue_name: "INC-123",
                    issue_permalink: "https://linear.app/incident-io/issue/INC-1609/find-copywriter-to-write-up",
                    provider: "asana",
                },
                has_debrief: false,
                id: "01FDAG4SAP5TYPT98WGR2N7W91",
                incident_role_assignments: [
                    {
                        assignee: {
                            email: "lisa@incident.io",
                            id: "01FCNDV6P870EA6S7TK1DSYDG0",
                            name: "Lisa Karlin Curtis",
                            role: "viewer",
                            slack_user_id: "U02AYNF2XJM",
                        },
                        role: {
                            created_at: "2021-08-17T13:28:57Z",
                            description: "The person currently coordinating the incident",
                            id: "01FCNDV6P870EA6S7TK1DSYDG0",
                            instructions: "Take point on the incident; Make sure people are clear on responsibilities",
                            name: "Incident Lead",
                            required: false,
                            role_type: "lead",
                            shortform: "lead",
                            updated_at: "2021-08-17T13:28:57Z",
                        },
                    },
                ],
                incident_status: {
                    category: "triage",
                    created_at: "2021-08-17T13:28:57Z",
                    description: "Impact has been **fully mitigated**, and we're ready to learn from this incident.",
                    id: "01FCNDV6P870EA6S7TK1DSYD5H",
                    name: "Closed",
                    rank: 4,
                    updated_at: "2021-08-17T13:28:57Z",
                },
                incident_timestamp_values: [
                    {
                        incident_timestamp: { id: "01FCNDV6P870EA6S7TK1DSYD5H", name: "Impact started", rank: 1 },
                        value: { value: "2021-08-17T13:28:57Z" },
                    },
                ],
                incident_type: {
                    create_in_triage: "always",
                    created_at: "2021-08-17T13:28:57Z",
                    description: "Customer facing production outages",
                    id: "01FCNDV6P870EA6S7TK1DSYDG0",
                    is_default: false,
                    name: "Production Outage",
                    private_incidents_only: false,
                    updated_at: "2021-08-17T13:28:57Z",
                },
                mode: "standard",
                name: "Our database is sad",
                permalink: "https://app.incident.io/incidents/123",
                postmortem_document_url: "https://docs.google.com/my_doc_id",
                reference: "INC-123",
                severity: {
                    created_at: "2021-08-17T13:28:57Z",
                    description: "Issues with **low impact**.",
                    id: "01FCNDV6P870EA6S7TK1DSYDG0",
                    name: "Minor",
                    rank: 1,
                    updated_at: "2021-08-17T13:28:57Z",
                },
                slack_channel_id: "C02AW36C1M5",
                slack_channel_name: "inc-165-green-parrot",
                slack_team_id: "T02A1FSLE8J",
                summary: "Our database is really really sad, and we don't know why yet.",
                updated_at: "2021-08-17T13:28:57Z",
                visibility: "public",
                workload_minutes_late: 40.7,
                workload_minutes_sleeping: 0,
                workload_minutes_total: 60.7,
                workload_minutes_working: 20,
            },
        };
        server
            .mockEndpoint()
            .get("/v2/incidents/01FDAG4SAP5TYPT98WGR2N7W91")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.incidentsV2.show({
            id: "01FDAG4SAP5TYPT98WGR2N7W91",
        });
        expect(response).toEqual({
            incident: {
                call_url: "https://zoom.us/foo",
                created_at: "2021-08-17T13:28:57Z",
                creator: {
                    alert: {
                        id: "01GW2G3V0S59R238FAHPDS1R66",
                        title: "*errors.withMessage: PG::Error failed to connect",
                    },
                    api_key: {
                        id: "01FCNDV6P870EA6S7TK1DSYDG0",
                        name: "My test API key",
                    },
                    user: {
                        email: "lisa@incident.io",
                        id: "01FCNDV6P870EA6S7TK1DSYDG0",
                        name: "Lisa Karlin Curtis",
                        role: "viewer",
                        slack_user_id: "U02AYNF2XJM",
                    },
                    workflow: {
                        id: "01FCNDV6P870EA6S7TK1DSYDG0",
                        name: "My little workflow",
                    },
                },
                custom_field_entries: [
                    {
                        custom_field: {
                            description: "Which team is impacted by this issue",
                            field_type: "single_select",
                            id: "01FCNDV6P870EA6S7TK1DSYDG0",
                            name: "Affected Team",
                            options: [
                                {
                                    custom_field_id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                    id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                    sort_key: 10,
                                    value: "Product",
                                },
                            ],
                        },
                        values: [
                            {
                                value_catalog_entry: {
                                    aliases: ["lawrence@incident.io", "lawrence"],
                                    external_id: "761722cd-d1d7-477b-ac7e-90f9e079dc33",
                                    id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                    name: "Primary On-call",
                                },
                                value_link: "https://google.com/",
                                value_numeric: "123.456",
                                value_option: {
                                    custom_field_id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                    id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                    sort_key: 10,
                                    value: "Product",
                                },
                                value_text: "This is my text field, I hope you like it",
                            },
                        ],
                    },
                ],
                duration_metrics: [
                    {
                        duration_metric: {
                            id: "01FCNDV6P870EA6S7TK1DSYD5H",
                            name: "Lasted",
                        },
                        value_seconds: 10800,
                    },
                ],
                external_issue_reference: {
                    issue_name: "INC-123",
                    issue_permalink: "https://linear.app/incident-io/issue/INC-1609/find-copywriter-to-write-up",
                    provider: "asana",
                },
                has_debrief: false,
                id: "01FDAG4SAP5TYPT98WGR2N7W91",
                incident_role_assignments: [
                    {
                        assignee: {
                            email: "lisa@incident.io",
                            id: "01FCNDV6P870EA6S7TK1DSYDG0",
                            name: "Lisa Karlin Curtis",
                            role: "viewer",
                            slack_user_id: "U02AYNF2XJM",
                        },
                        role: {
                            created_at: "2021-08-17T13:28:57Z",
                            description: "The person currently coordinating the incident",
                            id: "01FCNDV6P870EA6S7TK1DSYDG0",
                            instructions: "Take point on the incident; Make sure people are clear on responsibilities",
                            name: "Incident Lead",
                            required: false,
                            role_type: "lead",
                            shortform: "lead",
                            updated_at: "2021-08-17T13:28:57Z",
                        },
                    },
                ],
                incident_status: {
                    category: "triage",
                    created_at: "2021-08-17T13:28:57Z",
                    description: "Impact has been **fully mitigated**, and we're ready to learn from this incident.",
                    id: "01FCNDV6P870EA6S7TK1DSYD5H",
                    name: "Closed",
                    rank: 4,
                    updated_at: "2021-08-17T13:28:57Z",
                },
                incident_timestamp_values: [
                    {
                        incident_timestamp: {
                            id: "01FCNDV6P870EA6S7TK1DSYD5H",
                            name: "Impact started",
                            rank: 1,
                        },
                        value: {
                            value: "2021-08-17T13:28:57Z",
                        },
                    },
                ],
                incident_type: {
                    create_in_triage: "always",
                    created_at: "2021-08-17T13:28:57Z",
                    description: "Customer facing production outages",
                    id: "01FCNDV6P870EA6S7TK1DSYDG0",
                    is_default: false,
                    name: "Production Outage",
                    private_incidents_only: false,
                    updated_at: "2021-08-17T13:28:57Z",
                },
                mode: "standard",
                name: "Our database is sad",
                permalink: "https://app.incident.io/incidents/123",
                postmortem_document_url: "https://docs.google.com/my_doc_id",
                reference: "INC-123",
                severity: {
                    created_at: "2021-08-17T13:28:57Z",
                    description: "Issues with **low impact**.",
                    id: "01FCNDV6P870EA6S7TK1DSYDG0",
                    name: "Minor",
                    rank: 1,
                    updated_at: "2021-08-17T13:28:57Z",
                },
                slack_channel_id: "C02AW36C1M5",
                slack_channel_name: "inc-165-green-parrot",
                slack_team_id: "T02A1FSLE8J",
                summary: "Our database is really really sad, and we don't know why yet.",
                updated_at: "2021-08-17T13:28:57Z",
                visibility: "public",
                workload_minutes_late: 40.7,
                workload_minutes_sleeping: 0,
                workload_minutes_total: 60.7,
                workload_minutes_working: 20,
            },
        });
    });

    test("edit", async () => {
        const server = mockServerPool.createServer();
        const client = new IncidentIOClient({ maxRetries: 0, environment: server.baseUrl });
        const rawRequestBody = {
            incident: {
                call_url: "https://zoom.us/foo",
                custom_field_entries: [
                    {
                        custom_field_id: "01FCNDV6P870EA6S7TK1DSYDG0",
                        values: [
                            {
                                id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                value_catalog_entry_id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                value_link: "https://google.com/",
                                value_numeric: "123.456",
                                value_option_id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                value_text: "This is my text field, I hope you like it",
                                value_timestamp: "",
                            },
                        ],
                    },
                ],
                incident_role_assignments: [
                    {
                        assignee: {
                            email: "bob@example.com",
                            id: "01G0J1EXE7AXZ2C93K61WBPYEH",
                            slack_user_id: "USER123",
                        },
                        incident_role_id: "01FH5TZRWMNAFB0DZ23FD1TV96",
                    },
                ],
                incident_status_id: "abc123",
                incident_timestamp_values: [
                    { incident_timestamp_id: "01FCNDV6P870EA6S7TK1DSYD5H", value: "2021-08-17T13:28:57Z" },
                ],
                name: "Our database is sad",
                severity_id: "01G0J1EXE7AXZ2C93K61WBPYEH",
                slack_channel_name_override: "inc-123-database-down",
                summary: "Our database is really really sad, and we don't know why yet.",
            },
            notify_incident_channel: true,
        };
        const rawResponseBody = {
            incident: {
                call_url: "https://zoom.us/foo",
                created_at: "2021-08-17T13:28:57Z",
                creator: {
                    alert: {
                        id: "01GW2G3V0S59R238FAHPDS1R66",
                        title: "*errors.withMessage: PG::Error failed to connect",
                    },
                    api_key: { id: "01FCNDV6P870EA6S7TK1DSYDG0", name: "My test API key" },
                    user: {
                        email: "lisa@incident.io",
                        id: "01FCNDV6P870EA6S7TK1DSYDG0",
                        name: "Lisa Karlin Curtis",
                        role: "viewer",
                        slack_user_id: "U02AYNF2XJM",
                    },
                    workflow: { id: "01FCNDV6P870EA6S7TK1DSYDG0", name: "My little workflow" },
                },
                custom_field_entries: [
                    {
                        custom_field: {
                            description: "Which team is impacted by this issue",
                            field_type: "single_select",
                            id: "01FCNDV6P870EA6S7TK1DSYDG0",
                            name: "Affected Team",
                            options: [
                                {
                                    custom_field_id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                    id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                    sort_key: 10,
                                    value: "Product",
                                },
                            ],
                        },
                        values: [
                            {
                                value_catalog_entry: {
                                    aliases: ["lawrence@incident.io", "lawrence"],
                                    external_id: "761722cd-d1d7-477b-ac7e-90f9e079dc33",
                                    id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                    name: "Primary On-call",
                                },
                                value_link: "https://google.com/",
                                value_numeric: "123.456",
                                value_option: {
                                    custom_field_id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                    id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                    sort_key: 10,
                                    value: "Product",
                                },
                                value_text: "This is my text field, I hope you like it",
                            },
                        ],
                    },
                ],
                duration_metrics: [
                    { duration_metric: { id: "01FCNDV6P870EA6S7TK1DSYD5H", name: "Lasted" }, value_seconds: 10800 },
                ],
                external_issue_reference: {
                    issue_name: "INC-123",
                    issue_permalink: "https://linear.app/incident-io/issue/INC-1609/find-copywriter-to-write-up",
                    provider: "asana",
                },
                has_debrief: false,
                id: "01FDAG4SAP5TYPT98WGR2N7W91",
                incident_role_assignments: [
                    {
                        assignee: {
                            email: "lisa@incident.io",
                            id: "01FCNDV6P870EA6S7TK1DSYDG0",
                            name: "Lisa Karlin Curtis",
                            role: "viewer",
                            slack_user_id: "U02AYNF2XJM",
                        },
                        role: {
                            created_at: "2021-08-17T13:28:57Z",
                            description: "The person currently coordinating the incident",
                            id: "01FCNDV6P870EA6S7TK1DSYDG0",
                            instructions: "Take point on the incident; Make sure people are clear on responsibilities",
                            name: "Incident Lead",
                            required: false,
                            role_type: "lead",
                            shortform: "lead",
                            updated_at: "2021-08-17T13:28:57Z",
                        },
                    },
                ],
                incident_status: {
                    category: "triage",
                    created_at: "2021-08-17T13:28:57Z",
                    description: "Impact has been **fully mitigated**, and we're ready to learn from this incident.",
                    id: "01FCNDV6P870EA6S7TK1DSYD5H",
                    name: "Closed",
                    rank: 4,
                    updated_at: "2021-08-17T13:28:57Z",
                },
                incident_timestamp_values: [
                    {
                        incident_timestamp: { id: "01FCNDV6P870EA6S7TK1DSYD5H", name: "Impact started", rank: 1 },
                        value: { value: "2021-08-17T13:28:57Z" },
                    },
                ],
                incident_type: {
                    create_in_triage: "always",
                    created_at: "2021-08-17T13:28:57Z",
                    description: "Customer facing production outages",
                    id: "01FCNDV6P870EA6S7TK1DSYDG0",
                    is_default: false,
                    name: "Production Outage",
                    private_incidents_only: false,
                    updated_at: "2021-08-17T13:28:57Z",
                },
                mode: "standard",
                name: "Our database is sad",
                permalink: "https://app.incident.io/incidents/123",
                postmortem_document_url: "https://docs.google.com/my_doc_id",
                reference: "INC-123",
                severity: {
                    created_at: "2021-08-17T13:28:57Z",
                    description: "Issues with **low impact**.",
                    id: "01FCNDV6P870EA6S7TK1DSYDG0",
                    name: "Minor",
                    rank: 1,
                    updated_at: "2021-08-17T13:28:57Z",
                },
                slack_channel_id: "C02AW36C1M5",
                slack_channel_name: "inc-165-green-parrot",
                slack_team_id: "T02A1FSLE8J",
                summary: "Our database is really really sad, and we don't know why yet.",
                updated_at: "2021-08-17T13:28:57Z",
                visibility: "public",
                workload_minutes_late: 40.7,
                workload_minutes_sleeping: 0,
                workload_minutes_total: 60.7,
                workload_minutes_working: 20,
            },
        };
        server
            .mockEndpoint()
            .post("/v2/incidents/01G18REBY9AYH6CMWCJ2CVCYCH/actions/edit")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.incidentsV2.edit({
            id: "01G18REBY9AYH6CMWCJ2CVCYCH",
            incident: {
                call_url: "https://zoom.us/foo",
                custom_field_entries: [
                    {
                        custom_field_id: "01FCNDV6P870EA6S7TK1DSYDG0",
                        values: [
                            {
                                id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                value_catalog_entry_id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                value_link: "https://google.com/",
                                value_numeric: "123.456",
                                value_option_id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                value_text: "This is my text field, I hope you like it",
                                value_timestamp: "",
                            },
                        ],
                    },
                ],
                incident_role_assignments: [
                    {
                        assignee: {
                            email: "bob@example.com",
                            id: "01G0J1EXE7AXZ2C93K61WBPYEH",
                            slack_user_id: "USER123",
                        },
                        incident_role_id: "01FH5TZRWMNAFB0DZ23FD1TV96",
                    },
                ],
                incident_status_id: "abc123",
                incident_timestamp_values: [
                    {
                        incident_timestamp_id: "01FCNDV6P870EA6S7TK1DSYD5H",
                        value: "2021-08-17T13:28:57Z",
                    },
                ],
                name: "Our database is sad",
                severity_id: "01G0J1EXE7AXZ2C93K61WBPYEH",
                slack_channel_name_override: "inc-123-database-down",
                summary: "Our database is really really sad, and we don't know why yet.",
            },
            notify_incident_channel: true,
        });
        expect(response).toEqual({
            incident: {
                call_url: "https://zoom.us/foo",
                created_at: "2021-08-17T13:28:57Z",
                creator: {
                    alert: {
                        id: "01GW2G3V0S59R238FAHPDS1R66",
                        title: "*errors.withMessage: PG::Error failed to connect",
                    },
                    api_key: {
                        id: "01FCNDV6P870EA6S7TK1DSYDG0",
                        name: "My test API key",
                    },
                    user: {
                        email: "lisa@incident.io",
                        id: "01FCNDV6P870EA6S7TK1DSYDG0",
                        name: "Lisa Karlin Curtis",
                        role: "viewer",
                        slack_user_id: "U02AYNF2XJM",
                    },
                    workflow: {
                        id: "01FCNDV6P870EA6S7TK1DSYDG0",
                        name: "My little workflow",
                    },
                },
                custom_field_entries: [
                    {
                        custom_field: {
                            description: "Which team is impacted by this issue",
                            field_type: "single_select",
                            id: "01FCNDV6P870EA6S7TK1DSYDG0",
                            name: "Affected Team",
                            options: [
                                {
                                    custom_field_id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                    id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                    sort_key: 10,
                                    value: "Product",
                                },
                            ],
                        },
                        values: [
                            {
                                value_catalog_entry: {
                                    aliases: ["lawrence@incident.io", "lawrence"],
                                    external_id: "761722cd-d1d7-477b-ac7e-90f9e079dc33",
                                    id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                    name: "Primary On-call",
                                },
                                value_link: "https://google.com/",
                                value_numeric: "123.456",
                                value_option: {
                                    custom_field_id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                    id: "01FCNDV6P870EA6S7TK1DSYDG0",
                                    sort_key: 10,
                                    value: "Product",
                                },
                                value_text: "This is my text field, I hope you like it",
                            },
                        ],
                    },
                ],
                duration_metrics: [
                    {
                        duration_metric: {
                            id: "01FCNDV6P870EA6S7TK1DSYD5H",
                            name: "Lasted",
                        },
                        value_seconds: 10800,
                    },
                ],
                external_issue_reference: {
                    issue_name: "INC-123",
                    issue_permalink: "https://linear.app/incident-io/issue/INC-1609/find-copywriter-to-write-up",
                    provider: "asana",
                },
                has_debrief: false,
                id: "01FDAG4SAP5TYPT98WGR2N7W91",
                incident_role_assignments: [
                    {
                        assignee: {
                            email: "lisa@incident.io",
                            id: "01FCNDV6P870EA6S7TK1DSYDG0",
                            name: "Lisa Karlin Curtis",
                            role: "viewer",
                            slack_user_id: "U02AYNF2XJM",
                        },
                        role: {
                            created_at: "2021-08-17T13:28:57Z",
                            description: "The person currently coordinating the incident",
                            id: "01FCNDV6P870EA6S7TK1DSYDG0",
                            instructions: "Take point on the incident; Make sure people are clear on responsibilities",
                            name: "Incident Lead",
                            required: false,
                            role_type: "lead",
                            shortform: "lead",
                            updated_at: "2021-08-17T13:28:57Z",
                        },
                    },
                ],
                incident_status: {
                    category: "triage",
                    created_at: "2021-08-17T13:28:57Z",
                    description: "Impact has been **fully mitigated**, and we're ready to learn from this incident.",
                    id: "01FCNDV6P870EA6S7TK1DSYD5H",
                    name: "Closed",
                    rank: 4,
                    updated_at: "2021-08-17T13:28:57Z",
                },
                incident_timestamp_values: [
                    {
                        incident_timestamp: {
                            id: "01FCNDV6P870EA6S7TK1DSYD5H",
                            name: "Impact started",
                            rank: 1,
                        },
                        value: {
                            value: "2021-08-17T13:28:57Z",
                        },
                    },
                ],
                incident_type: {
                    create_in_triage: "always",
                    created_at: "2021-08-17T13:28:57Z",
                    description: "Customer facing production outages",
                    id: "01FCNDV6P870EA6S7TK1DSYDG0",
                    is_default: false,
                    name: "Production Outage",
                    private_incidents_only: false,
                    updated_at: "2021-08-17T13:28:57Z",
                },
                mode: "standard",
                name: "Our database is sad",
                permalink: "https://app.incident.io/incidents/123",
                postmortem_document_url: "https://docs.google.com/my_doc_id",
                reference: "INC-123",
                severity: {
                    created_at: "2021-08-17T13:28:57Z",
                    description: "Issues with **low impact**.",
                    id: "01FCNDV6P870EA6S7TK1DSYDG0",
                    name: "Minor",
                    rank: 1,
                    updated_at: "2021-08-17T13:28:57Z",
                },
                slack_channel_id: "C02AW36C1M5",
                slack_channel_name: "inc-165-green-parrot",
                slack_team_id: "T02A1FSLE8J",
                summary: "Our database is really really sad, and we don't know why yet.",
                updated_at: "2021-08-17T13:28:57Z",
                visibility: "public",
                workload_minutes_late: 40.7,
                workload_minutes_sleeping: 0,
                workload_minutes_total: 60.7,
                workload_minutes_working: 20,
            },
        });
    });
});
